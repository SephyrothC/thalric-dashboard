<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Thalric Cœur d'Argent{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header avec informations du personnage -->
        <header class="character-header">
            <div class="character-info">
                <h1>{{ character.character_info.name }}</h1>
                <p>{{ character.character_info.race }} {{ character.character_info.class }} - Niveau {{ character.character_info.level }}</p>
                <p class="subclass">{{ character.character_info.subclass }}</p>
            </div>
            <div class="vital-stats">
                <div class="hp-display">
                    <span class="hp-current" id="hp-current">{{ character.stats.hp_current }}</span>
                    <span class="hp-separator">/</span>
                    <span class="hp-max">{{ character.stats.hp_max }}</span>
                    <label>HP</label>
                </div>
                <div class="ac-display">
                    <span class="ac-value">{{ character.stats.ac }}</span>
                    <label>CA</label>
                </div>
            </div>
        </header>

        <!-- Navigation mise à jour avec la page Dés -->
        <nav class="main-nav">
            <a href="{{ url_for('state') }}" class="nav-item {% if request.endpoint == 'state' %}active{% endif %}">
                <span class="nav-icon">📊</span>
                <span class="nav-text">Statistiques</span>
            </a>
            <a href="{{ url_for('combat') }}" class="nav-item {% if request.endpoint == 'combat' %}active{% endif %}">
                <span class="nav-icon">⚔️</span>
                <span class="nav-text">Combat</span>
            </a>
            <a href="{{ url_for('spells') }}" class="nav-item {% if request.endpoint == 'spells' %}active{% endif %}">
                <span class="nav-icon">✨</span>
                <span class="nav-text">Sorts</span>
            </a>
            <a href="{{ url_for('dice_roller') }}" class="nav-item {% if request.endpoint == 'dice_roller' %}active{% endif %}">
                <span class="nav-icon">🎲</span>
                <span class="nav-text">Dés</span>
            </a>
            <a href="{{ url_for('inventory') }}" class="nav-item {% if request.endpoint == 'inventory' %}active{% endif %}">
                <span class="nav-icon">🎒</span>
                <span class="nav-text">Inventaire</span>
            </a>
        </nav>

        <!-- Contenu principal -->
        <main class="main-content">
            {% block content %}{% endblock %}
        </main>

        <!-- Zone de résultats des dés -->
        <div class="dice-results" id="dice-results" style="display: none;">
            <div class="result-content">
                <span class="close-result" onclick="closeDiceResult()">×</span>
                <div class="result-text" id="result-text"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>
</html>